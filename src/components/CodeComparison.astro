---
import { Code } from 'astro:components';

export interface Props {
  badCode: string;
  goodCode: string;
  language?: any;
  badTitle?: string;
  goodTitle?: string;
}

const {
  badCode,
  goodCode,
  language = 'tsx',
  badTitle = '❌ Плохой пример',
  goodTitle = '✅ Правильное решение',
} = Astro.props;
---

<div
  class="code-comparison grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6 my-6"
>
  <!-- Bad Example -->
  <div class="relative rounded-xl overflow-hidden h-full">
    {/* Blurry background */}
    <div class="absolute inset-0 bg-linear-to-br from-red-500/20 via-rose-500/20 to-pink-500/20 rounded-xl blur-sm transform scale-110"></div>
    
    {/* Card content */}
    <div class="relative border-2 border-red-400/40 bg-red-950/40 backdrop-blur-sm shadow-lg shadow-red-500/10 rounded-xl hover:bg-red-950/50 transition-colors h-full flex flex-col">
      <div class="p-4 lg:p-6 flex-1 flex flex-col">
        <div class="flex items-center mb-4">
          <div class="w-3 h-3 bg-red-500 rounded-full mr-3"></div>
          <h3 class="text-lg font-semibold text-red-400">{badTitle}</h3>
        </div>
        <div
          class="text-sm lg:text-base overflow-x-auto bg-gray-900 rounded-lg p-4 flex-1"
        >
          <Code code={badCode} lang={language} theme="github-dark" />
        </div>
      </div>
    </div>
  </div>

  <!-- Good Example -->
  <div class="relative rounded-xl overflow-hidden h-full">
    {/* Blurry background */}
    <div class="absolute inset-0 bg-linear-to-br from-green-500/20 via-emerald-500/20 to-teal-500/20 rounded-xl blur-sm transform scale-110"></div>
    
    {/* Card content */}
    <div class="relative border-2 border-green-400/40 bg-green-950/40 backdrop-blur-sm shadow-lg shadow-green-500/10 rounded-xl hover:bg-green-950/50 transition-colors h-full flex flex-col">
      <div class="p-4 lg:p-6 flex-1 flex flex-col">
        <div class="flex items-center mb-4">
          <div class="w-3 h-3 bg-green-500 rounded-full mr-3"></div>
          <h3 class="text-lg font-semibold text-green-400">{goodTitle}</h3>
        </div>
        <div
          class="text-sm lg:text-base overflow-x-auto bg-gray-900 rounded-lg p-4 flex-1"
        >
          <Code code={goodCode} lang={language} theme="github-dark" />
        </div>
      </div>
    </div>
  </div>
</div>
