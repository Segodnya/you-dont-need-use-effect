---
import BaseSlide from './BaseSlide.astro';
import CodeComparison from '../CodeComparison.astro';
---

<BaseSlide id="state-chains" title="4. –¶–µ–ø–æ—á–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏—è">
  <div class="space-y-6">
    <p class="text-xl text-gray-300">
      –≠—Ñ—Ñ–µ–∫—Ç-–ª–∞–±–∏—Ä–∏–Ω—Ç: –∫–∞–∂–¥—ã–π —ç—Ñ—Ñ–µ–∫—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π, —Å–æ–∑–¥–∞–≤–∞—è —Ü–µ–ø–æ—á–∫—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.
    </p>

    <CodeComparison
      badCode={`// –î–ª–∏–Ω–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
useEffect(() => {
  if (card !== null && card.gold) {
    setGoldCardCount(c => c + 1);
  }
}, [card]);

useEffect(() => {
  if (goldCardCount > 3) {
    setRound(r => r + 1);
    setGoldCardCount(0);
  }
}, [goldCardCount]);`}
      goodCode={`// –í—Å—è –ª–æ–≥–∏–∫–∞ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
function handleCardPick(nextCard) {
  setCard(nextCard);

  if (nextCard.gold) {
    if (goldCardCount <= 3) {
      setGoldCardCount(prev => prev + 1);
    } else {
      setGoldCardCount(0);
      setRound(prev => prev + 1);
    }
  }
}`}
      language="tsx"
    />

    <div class="bg-yellow-900/20 border border-yellow-700 rounded-lg p-4">
      <p class="text-yellow-200 flex items-start gap-3">
        <span class="text-2xl">üí°</span>
        <span>–û–±—ä–µ–¥–∏–Ω—è–π—Ç–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ (–æ–±—ã—á–Ω–æ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö —Å–æ–±—ã—Ç–∏–π).</span>
      </p>
    </div>
  </div>
</BaseSlide>
