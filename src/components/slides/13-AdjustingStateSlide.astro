---
import BaseSlide from './BaseSlide.astro';
import CodeComparison from '../CodeComparison.astro';
---

<BaseSlide id="adjusting-state" title="6. –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø—Ä–æ–ø—Å–æ–≤">
  <div class="space-y-6">
    <p class="text-lg text-gray-300">
      –≠—Ñ—Ñ–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø—Ä–æ–ø—Å–∞ - —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω, –Ω–æ –æ–Ω –Ω–µ –æ–ø—Ç–∏–º–∞–ª–µ–Ω.
    </p>

    <CodeComparison
      badCode={`function List({ items }) {
  const [selection, setSelection] = useState();

  useEffect(() => {
    setSelection(null);
  }, [items]);
}`}
      goodCode={`// –†–µ—à–µ–Ω–∏–µ 1: –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
function List({ items, selection, onSelectionChange }) {
  // selection —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Ä–æ–¥–∏—Ç–µ–ª–µ–º
}

// –†–µ—à–µ–Ω–∏–µ 2: Adjust state during render
function List({ items }) {
  const [prevItems, setPrevItems] = useState(items);
  
  if (items !== prevItems) {
    setPrevItems(items);
    setSelection(null);
  }
}`}
      language="tsx"
    />

    <div class="bg-yellow-900/20 border border-yellow-700 rounded-lg p-4">
      <p class="text-yellow-200 flex items-start gap-3">
        <span class="text-2xl">üí°</span>
        <span>–î–µ–ª–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–º –∏–ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–π—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è —Ä–µ–Ω–¥–µ—Ä–∞.</span>
      </p>
    </div>
  </div>
</BaseSlide>
