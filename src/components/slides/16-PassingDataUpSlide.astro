---
import BaseSlide from './BaseSlide.astro';
import SteppedCodeComparison from '../SteppedCodeComparison.astro';
import Text from '../ui/Text.astro';
import Callout from '../ui/Callout.astro';
import Section from '../ui/Section.astro';
---

<BaseSlide
  id="passing-data-up"
  title="9. Передача данных в родительский компонент"
>
  <Section>
    <Text>
      Это нарушает поток данных в React. Данные должны течь сверху вниз, а не
      снизу вверх через эффекты.
    </Text>

    <SteppedCodeComparison
      carouselId="passing-data-up-comparison"
      badCode={`const Child = ({ onFetched }) => {
  const data = useSomeAPI();

  useEffect(() => {
    onFetched(data);
  }, [onFetched, data]);
};`}
      goodCode={`// Получаем данные в родителе и передаем вниз
function Parent() {
  const data = useSomeAPI();

  return <Child data={data} />;
}

function Child({ data }) {
  // Просто используем данные
  return <div>{data}</div>;
}`}
      language="tsx"
    />

    <Callout variant="tip">
      Поднимите получение данных на уровень выше или используйте контекст для
      разделения ответственности.
    </Callout>
  </Section>
</BaseSlide>
